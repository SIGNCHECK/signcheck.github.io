webpackJsonp([6],{aZvY:function(t,e){},qxW8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("lxVV"),s=a("XoMy"),o=a.n(s),r=a("PO8r"),g=a("NFr2"),l=a("bYoP"),n=void 0,c={name:"Stories",data:function(){return{global:i.a,pageRotate:0,curPageIdx:0,tarPageIdx:0,pageLeftSrc:null,pageRotateSrc:null,pageRightSrc:null,pageList:[],totalPageNum:9,shadowMax:.2,animeMaxLength:660,animeFloatL1:0,animeFloatL2:.2,animeFloatL3:.8,animeFloatL4:.4,floatLeftValue:0,floatRightValue:0}},components:{Menu:r.a,LangTransfer:g.a,Footer:l.a},beforeCreate:function(){i.a.refresh_windows_size(),i.a.set_lang_pack()},created:function(){this.init(),this.resize_book()},mounted:function(){var t=this;window.onresize=function(){return i.a.refresh_windows_size(),void t.resize_book()},r.a.methods.change_logo_color("#251714","#efcd24",1e3)},watch:{pageRotate:function(t,e){e>t&&e-t<179?-180===t&&(this.curPageIdx+=1,this.pageRotate=0):e<t&&t-e<179&&-180===e&&(this.curPageIdx-=1),this.updateImg(),this.updateMove()}},methods:{resize_book:function(){if(0===i.a.mode)return document.documentElement.style.setProperty("--book_width","1320rem"),void document.documentElement.style.setProperty("--book_height","752.6rem");var t=700/752.6,e=i.a.height/i.a.width*750;document.documentElement.style.setProperty("--screen_height",e+"rem"),1320*t>e-170&&(t=(e-170)/1320),document.documentElement.style.setProperty("--book_width",1320*t+"rem"),document.documentElement.style.setProperty("--book_height",752.6*t+"rem")},init:function(){for(var t=1;t<=this.totalPageNum;t++)this.pageList.push({L1:"/static/book/pc/"+t+"/1.png",L2:"/static/book/pc/"+t+"/2.png",L3:"/static/book/pc/"+t+"/3.png",L4:"/static/book/pc/"+t+"/4.png"});this.updateImg()},prepareRightToLeft:function(){-180===this.pageRotate&&(this.pageRotate=0),this.pageRightSrc=this.pageList[this.curPageIdx+1]},prepareLeftToRight:function(){0===this.pageRotate&&(this.pageRotate=-180),this.pageRightSrc=this.pageList[this.curPageIdx]},updateImg:function(){this.pageLeftSrc=this.pageList[this.curPageIdx],this.curPageIdx+1!==this.pageList.length&&(this.pageRightSrc=this.pageList[this.curPageIdx+1],this.pageRotateSrc=this.pageRotate>=-90?this.pageList[this.curPageIdx]:this.pageList[this.curPageIdx+1])},updateMove:function(){this.floatLeftValue=this.pageRotate/180*this.animeMaxLength,this.floatRightValue=this.floatLeftValue+this.animeMaxLength},autoLeftToRight:function(){0!==this.curPageIdx&&0!==this.tarPageIdx&&null==n&&(this.tarPageIdx-=1,this.prepareLeftToRight(),n=this.flipAnime(this.pageRotate,0))},autoRightToLeft:function(){this.curPageIdx!==this.pageList.length-1&&this.tarPageIdx!==this.pageList.length-1&&null==n&&(this.tarPageIdx+=1,this.prepareRightToLeft(),n=this.flipAnime(this.pageRotate,-180))},flipAnime:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return o()({targets:this,pageRotate:[t,e],duration:a,easing:"linear",complete:function(){n=null}})}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"book_page",attrs:{id:"book_page"}},[0===t.global.mode?a("div",{staticClass:"pre_arrow_part",on:{click:t.autoLeftToRight}}):t._e(),t._v(" "),a("div",{staticClass:"body_part"},[a("div",{staticClass:"books"},[a("div",{staticClass:"page"},[a("div",{staticClass:"page_left",on:{click:t.autoLeftToRight}},[t.pageRotateSrc.L1?a("img",{staticClass:"img_left",style:"transform: translateX("+t.floatLeftValue*t.animeFloatL1+"rem);",attrs:{src:t.pageLeftSrc.L1}}):t._e(),t._v(" "),t.pageRotateSrc.L2?a("img",{staticClass:"img_left",style:"transform: translateX("+t.floatLeftValue*t.animeFloatL2+"rem);",attrs:{src:t.pageLeftSrc.L2}}):t._e(),t._v(" "),t.pageRotateSrc.L3?a("img",{staticClass:"img_left",style:"transform: translateX("+t.floatLeftValue*t.animeFloatL3+"rem);",attrs:{src:t.pageLeftSrc.L3}}):t._e(),t._v(" "),t.pageRotateSrc.L4?a("img",{staticClass:"img_left",style:"transform: translateX("+t.floatLeftValue*t.animeFloatL4+"rem);",attrs:{src:t.pageLeftSrc.L4}}):t._e()]),t._v(" "),a("div",{class:t.pageRotate>=-90?"page_rotate":"page_rotate_left",style:"transform: rotateY("+t.pageRotate+"deg)",on:{click:t.autoRightToLeft}},[a("img",{staticClass:"page_shadow",style:t.pageRotate>=-90?"opacity:"+-t.pageRotate/90*t.shadowMax:"transform: scaleX(1); opacity:"+(180+t.pageRotate)/90*t.shadowMax,attrs:{src:"/static/book/page_shadow.png"}}),t._v(" "),t.pageRotateSrc.L1?a("img",{staticClass:"img_right",style:"transform: translateX("+(t.pageRotate>=-90?t.floatLeftValue*t.animeFloatL1+"rem);":-t.floatRightValue*t.animeFloatL1+"rem) scaleX(-1);"),attrs:{src:t.pageRotateSrc.L1}}):t._e(),t._v(" "),t.pageRotateSrc.L2?a("img",{staticClass:"img_right",style:"transform: translateX("+(t.pageRotate>=-90?t.floatLeftValue*t.animeFloatL2+"rem);":-t.floatRightValue*t.animeFloatL2+"rem) scaleX(-1);"),attrs:{src:t.pageRotateSrc.L2}}):t._e(),t._v(" "),t.pageRotateSrc.L3?a("img",{staticClass:"img_right",style:"transform: translateX("+(t.pageRotate>=-90?t.floatLeftValue*t.animeFloatL3+"rem);":-t.floatRightValue*t.animeFloatL3+"rem) scaleX(-1);"),attrs:{src:t.pageRotateSrc.L3}}):t._e(),t._v(" "),t.pageRotateSrc.L4?a("img",{staticClass:"img_right",style:"transform: translateX("+(t.pageRotate>=-90?t.floatLeftValue*t.animeFloatL4+"rem);":-t.floatRightValue*t.animeFloatL4+"rem) scaleX(-1);"),attrs:{src:t.pageRotateSrc.L4}}):t._e()]),t._v(" "),a("div",{staticClass:"page_right",on:{click:t.autoRightToLeft}},[t.pageRotateSrc.L1?a("img",{staticClass:"img_right",style:"transform: translateX("+t.floatRightValue*t.animeFloatL1+"rem);",attrs:{src:t.pageRightSrc.L1}}):t._e(),t._v(" "),t.pageRotateSrc.L2?a("img",{staticClass:"img_right",style:"transform: translateX("+t.floatRightValue*t.animeFloatL2+"rem);",attrs:{src:t.pageRightSrc.L2}}):t._e(),t._v(" "),t.pageRotateSrc.L3?a("img",{staticClass:"img_right",style:"transform: translateX("+t.floatRightValue*t.animeFloatL3+"rem);",attrs:{src:t.pageRightSrc.L3}}):t._e(),t._v(" "),t.pageRotateSrc.L4?a("img",{staticClass:"img_right",style:"transform: translateX("+t.floatRightValue*t.animeFloatL4+"rem);",attrs:{src:t.pageRightSrc.L4}}):t._e()])])])]),t._v(" "),0===t.global.mode?a("div",{staticClass:"next_arrow_part",on:{click:t.autoRightToLeft}}):t._e(),t._v(" "),a("LangTransfer"),t._v(" "),a("Menu")],1)},staticRenderFns:[]};var p=a("VU/8")(c,h,!1,function(t){a("aZvY")},"data-v-405a4c29",null);e.default=p.exports}});
//# sourceMappingURL=6.ec9f67b79612221f1c19.js.map