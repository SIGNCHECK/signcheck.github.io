webpackJsonp([7],{qxW8:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("lxVV"),s=e("XoMy"),o=e.n(s),r=e("PO8r"),g=e("NFr2"),l=e("bYoP"),n=void 0,c={name:"Stories",data:function(){return{global:i.a,pageRotate:0,curPageIdx:0,tarPageIdx:0,pageLeftSrc:null,pageRotateSrc:null,pageRightSrc:null,pageList:[],totalPageNum:8,shadowMax:.2,animeMaxLength:660,animeFloatL1:0,animeFloatL2:.2,animeFloatL3:.8,animeFloatL4:.4,floatLeftValue:0,floatRightValue:0}},components:{Menu:r.a,LangTransfer:g.a,Footer:l.a},beforeCreate:function(){i.a.change_root_size(),i.a.set_lang_pack()},created:function(){this.init()},mounted:function(){window.onresize=function(){i.a.change_root_size()},this.refresh_root_size(),r.a.methods.change_logo_color("#251714","#efcd24",1e3)},watch:{"global.width":function(){this.refresh_root_size()},pageRotate:function(t,a){a>t&&a-t<179?-180===t&&(this.curPageIdx+=1,this.pageRotate=0):a<t&&t-a<179&&-180===a&&(this.curPageIdx-=1),this.updateImg(),this.updateMove()}},methods:{refresh_root_size:function(){i.a.width<0?document.documentElement.style.fontSize="0px":document.documentElement.style.fontSize=i.a.width/1920+"px"},init:function(){var t=this;setTimeout(function(){t.autoRightToLeft()},500);for(var a=1;a<=this.totalPageNum;a++)this.pageList.push({L1:"/static/book/"+a+"/1.png",L2:"/static/book/"+a+"/2.png",L3:"/static/book/"+a+"/3.png",L4:"/static/book/"+a+"/4.png"});this.updateImg()},prepareRightToLeft:function(){-180===this.pageRotate&&(this.pageRotate=0),this.pageRightSrc=this.pageList[this.curPageIdx+1]},prepareLeftToRight:function(){0===this.pageRotate&&(this.pageRotate=-180),this.pageRightSrc=this.pageList[this.curPageIdx]},updateImg:function(){this.pageLeftSrc=this.pageList[this.curPageIdx],this.curPageIdx+1!==this.pageList.length&&(this.pageRightSrc=this.pageList[this.curPageIdx+1],this.pageRotateSrc=this.pageRotate>=-90?this.pageList[this.curPageIdx]:this.pageList[this.curPageIdx+1])},updateMove:function(){this.floatLeftValue=this.pageRotate/180*this.animeMaxLength,this.floatRightValue=this.floatLeftValue+this.animeMaxLength},autoLeftToRight:function(){0!==this.curPageIdx&&0!==this.tarPageIdx&&null==n&&(this.tarPageIdx-=1,this.prepareLeftToRight(),n=this.flipAnime(this.pageRotate,0))},autoRightToLeft:function(){this.curPageIdx!==this.pageList.length-1&&this.tarPageIdx!==this.pageList.length-1&&null==n&&(this.tarPageIdx+=1,this.prepareRightToLeft(),n=this.flipAnime(this.pageRotate,-180))},flipAnime:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return o()({targets:this,pageRotate:[t,a],duration:e,easing:"linear",complete:function(){n=null}})}}},h={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"book_page",attrs:{id:"book_page"}},[e("div",{staticClass:"pre_arrow_part",on:{click:t.autoLeftToRight}}),t._v(" "),e("div",{staticClass:"body_part"},[e("div",{staticClass:"books"},[e("div",{staticClass:"page"},[e("div",{staticClass:"page_left",on:{click:t.autoLeftToRight}},[t.pageRotateSrc.L1?e("img",{staticClass:"img_left",style:"transform: translateX("+t.floatLeftValue*t.animeFloatL1+"rem);",attrs:{src:t.pageLeftSrc.L1}}):t._e(),t._v(" "),t.pageRotateSrc.L2?e("img",{staticClass:"img_left",style:"transform: translateX("+t.floatLeftValue*t.animeFloatL2+"rem);",attrs:{src:t.pageLeftSrc.L2}}):t._e(),t._v(" "),t.pageRotateSrc.L3?e("img",{staticClass:"img_left",style:"transform: translateX("+t.floatLeftValue*t.animeFloatL3+"rem);",attrs:{src:t.pageLeftSrc.L3}}):t._e(),t._v(" "),t.pageRotateSrc.L4?e("img",{staticClass:"img_left",style:"transform: translateX("+t.floatLeftValue*t.animeFloatL4+"rem);",attrs:{src:t.pageLeftSrc.L4}}):t._e()]),t._v(" "),e("div",{class:t.pageRotate>=-90?"page_rotate":"page_rotate_left",style:"transform: rotateY("+t.pageRotate+"deg)",on:{click:t.autoRightToLeft}},[e("img",{staticClass:"page_shadow",style:t.pageRotate>=-90?"opacity:"+-t.pageRotate/90*t.shadowMax:"transform: scaleX(1); opacity:"+(180+t.pageRotate)/90*t.shadowMax,attrs:{src:"/static/book/page_shadow.png"}}),t._v(" "),t.pageRotateSrc.L1?e("img",{staticClass:"img_right",style:"transform: translateX("+(t.pageRotate>=-90?t.floatLeftValue*t.animeFloatL1+"rem);":-t.floatRightValue*t.animeFloatL1+"rem) scaleX(-1);"),attrs:{src:t.pageRotateSrc.L1}}):t._e(),t._v(" "),t.pageRotateSrc.L2?e("img",{staticClass:"img_right",style:"transform: translateX("+(t.pageRotate>=-90?t.floatLeftValue*t.animeFloatL2+"rem);":-t.floatRightValue*t.animeFloatL2+"rem) scaleX(-1);"),attrs:{src:t.pageRotateSrc.L2}}):t._e(),t._v(" "),t.pageRotateSrc.L3?e("img",{staticClass:"img_right",style:"transform: translateX("+(t.pageRotate>=-90?t.floatLeftValue*t.animeFloatL3+"rem);":-t.floatRightValue*t.animeFloatL3+"rem) scaleX(-1);"),attrs:{src:t.pageRotateSrc.L3}}):t._e(),t._v(" "),t.pageRotateSrc.L4?e("img",{staticClass:"img_right",style:"transform: translateX("+(t.pageRotate>=-90?t.floatLeftValue*t.animeFloatL4+"rem);":-t.floatRightValue*t.animeFloatL4+"rem) scaleX(-1);"),attrs:{src:t.pageRotateSrc.L4}}):t._e()]),t._v(" "),e("div",{staticClass:"page_right",on:{click:t.autoRightToLeft}},[t.pageRotateSrc.L1?e("img",{staticClass:"img_right",style:"transform: translateX("+t.floatRightValue*t.animeFloatL1+"rem);",attrs:{src:t.pageRightSrc.L1}}):t._e(),t._v(" "),t.pageRotateSrc.L2?e("img",{staticClass:"img_right",style:"transform: translateX("+t.floatRightValue*t.animeFloatL2+"rem);",attrs:{src:t.pageRightSrc.L2}}):t._e(),t._v(" "),t.pageRotateSrc.L3?e("img",{staticClass:"img_right",style:"transform: translateX("+t.floatRightValue*t.animeFloatL3+"rem);",attrs:{src:t.pageRightSrc.L3}}):t._e(),t._v(" "),t.pageRotateSrc.L4?e("img",{staticClass:"img_right",style:"transform: translateX("+t.floatRightValue*t.animeFloatL4+"rem);",attrs:{src:t.pageRightSrc.L4}}):t._e()])])])]),t._v(" "),e("div",{staticClass:"next_arrow_part",on:{click:t.autoRightToLeft}}),t._v(" "),e("LangTransfer"),t._v(" "),e("Menu")],1)},staticRenderFns:[]};var p=e("VU/8")(c,h,!1,function(t){e("yklw")},"data-v-0c536db6",null);a.default=p.exports},yklw:function(t,a){}});
//# sourceMappingURL=7.fed233cd111244952b97.js.map